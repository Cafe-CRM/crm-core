<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script th:src="@{/js/jquery-3.2.0.min.js}"></script>
    <script th:src="@{/static/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{/st.css}" type="text/css"/>
    <script th:src="@{/filter.js}"></script>
</head>
<body>
<div th:replace="bossnavbar :: bossNavbar">
</div><!--/.navbar -->
<div class="container" style="margin-top:50px">
    <div class="row">
        <h3 align="center"><h1 th:align="center" style="color: #5bc0de;">Статистика по картам</h1></h3>
    </div>
    <div class="row">
        <hr/>
        <div>
            <h3 align="center"><h1 th:align="center" style="color: #5bc0de;">Поиск</h1></h3>
            <input id="filter" style="margin-bottom: 10px" type="text" class="form-control"
                   placeholder="Поиск по полям"></input>
        </div>

    </div>

    <div class="row">
        <hr/>
        <table id="myTable" data-page-length='25' class="table table-striped table-bordered table-hover">
            <tr>
                <th>Номер</th>
                <th>Имя владельца</th>
                <th>Баланс</th>
                <th>Скидка</th>
                <th>Дата последнего визита</th>

            </tr>
            <tbody class="searchable" th:each="shift,iter:${cards}">
            <tr>
                <td><p th:text="${shift.id}"></p></td>
                <td><p th:text="${shift.name}"></p></td>
                <td><p th:text="${shift.balance}"></p></td>
                <td><p th:text="${shift.discount}"></p></td>
                <td><p th:text="${shift.visitDate}"></p></td>

            </tr>
            </tbody>
        </table>
    </div>
</div>

<div th:replace="propertiesForm :: PropertyForm">
</div>
<div th:replace="bossChangePassword :: BossChangePassword">
</div>
<div th:replace="media/advertisingDispatch :: advertising"></div>
<script>
    $(document).ready(function () {
        (function ($) {
            $('#filter').keyup(function () {

                var rex = new RegExp($(this).val(), 'i');
                $('.searchable tr').hide();
                $('.searchable tr').filter(function () {
                    return rex.test($(this).text());
                }).show();
            })
        }(jQuery));
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#myTab a").click(function (e) {
            e.preventDefault();
            $(this).tab('show');
        });
    });
</script>
<script th:src="@{/js/mail.js}"></script>
</body>
</html>
