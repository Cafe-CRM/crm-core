<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <div th:include="fragments/headTag :: bootstrap" th:remove="tag"></div>
</head>
<body>

<div th:replace="bossnavbar :: bossNavbar"></div>

<div class="container" style="margin-top: 100px;">

    <h2 align="center" style="color: #5bc0de">Дата смены:  <span th:text="${shiftView.shiftDate}"></span></h2>
</div>
<hr></hr>

<div class="container" style="width: 70%">
    <div class="col-md-2" style="margin-left: 10%">
        <h4 style="color: #5bc0de;">Касса</h4>
        <span style="color: white;font-size: 30px" th:text="${shiftView.cashBox}" ></span>
        <br></br>
    </div>
    <div class="col-md-2 ">
        <h4 style="color: #5bc0de;">Прибыль грязными</h4>
        <span style="color: white;font-size: 30px" th:text="${shiftView.allPrice}" ></span>
        <br></br>
    </div>
    <div class="col-md-2 ">
        <h4 style="color: #5bc0de;">Прочие расходы</h4>
        <span style="color: white;font-size: 30px" th:text="${allOtherGoods}"></span>
        <br></br>
    </div>
    <div class="col-md-2 ">
        <h4 style="color: #5bc0de;">Зарплатные расходы</h4>
        <span style="color: white;font-size: 30px" th:text="${allSalaryGoods}"></span>
        <br></br>
    </div>

    <div class="col-md-2 ">
        <h4 style="color: #5bc0de;">Количество клиентов</h4>
        <span style="color: white;font-size: 30px" th:text="${shiftView.clients.size()}"></span>
        <br></br>
    </div>
</div>
<hr></hr>

<div class="container" style="width: 70%">
    <h2 align="center" style="color: #5bc0de">Счета на смене</h2>
    <div class="table"  >
        <table class="table table-striped">
          <thead>
            <tr>
                <th> Описание </th>
                <th> Описание стола </th>
                <th> Количество клиентов </th>
            </tr>
          </thead>
            <tbody  th:each="calc : ${shiftView.allCalculate}">
            <tr>
                <td th:if="${calc.description}==null" th:text="Описание+' '+ отсутствует"></td>
                <td th:if="${calc.description}!=null" th:text="${calc.description}"></td>
                <td th:each="board:${calc.board}" th:text="${board.name}" ></td>
                <td th:text="${calc.client.size()}" ></td>
            </tr>
            </tbody>
        </table>
    </div>



    <h2 align="center" style="color: #5bc0de">Клиенты на смене</h2>
    <div class="table"  >
        <table class="table table-striped">
            <tr>
                <th> Время посадки </th>
                <th> Проведенное время </th>
                <th> Стоимость времени </th>
                <th> Скидка </th>
                <th> Скидка по карте </th>
                <th> Общая стоимость счета </th>
                <th> Оплата наличными </th>
                <th> Стоимость меню </th>
                <th> Оплата по клубной карте </th>
            </tr>
            <tbody  th:each="client : ${shiftView.clients}">
            <tr>
                    <td th:text="${client.timeStart}" ></td>
                    <td th:text="${client.passedTime}" ></td>
                    <td th:text="${client.priceTime}" ></td>
                    <td th:text="${client.discount}" ></td>
                    <td th:text="${client.discountWithCard}" ></td>
                    <td th:text="${client.allPrice}" ></td>
                    <td th:text="${client.cache}" ></td>
                    <td th:text="${client.priceMenu}" ></td>
                    <td th:text="${client.payWithCard}" ></td>

            </tr>
            </tbody>
        </table>
    </div>


    <h2 align="center" style="color: #5bc0de">Зарплатные расходы</h2>
    <div class="table"  >
        <table class="table table-striped">
            <tr>
                <th> Дата </th>
                <th> ФИО </th>
                <th> Цена </th>
            </tr>
            <tbody  th:each="salaryGoods : ${salaryWorkerGoods}">
            <tr>
                <td th:text="${salaryGoods.date}" ></td>
                <td th:text="${salaryGoods.name}" ></td>
                <td th:text="${salaryGoods.price}" ></td>
            </tr>
            </tbody>
        </table>
    </div>

    <h2 align="center" style="color: #5bc0de">Прочие расходы</h2>
    <div class="table"  >
        <table class="table table-striped">
            <tr>
                <th> Дата </th>
                <th> ФИО </th>
                <th> Цена </th>
                <th> Количество </th>
                <th> Сумма </th>
            </tr>
            <tbody  th:each="otherGoods : ${otherGoods}">
            <tr>
                <td th:text="${otherGoods.date}" ></td>
                <td th:text="${otherGoods.name}" ></td>
                <td th:text="${otherGoods.price}" ></td>
                <td th:text="${otherGoods.quantity}" ></td>
                <td th:text="${otherGoods.price * otherGoods.quantity} % 1 == 0
                 ? ${#numbers.formatDecimal((otherGoods.price * otherGoods.quantity), 0, 0)}
                 : ${#numbers.formatDecimal((otherGoods.price * otherGoods.quantity), 0, 2)}">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <h2 align="center" style="color: #5bc0de">Сотрудники на смене</h2>
    <div class="table"  >
        <table class="table table-striped">
            <thead>
            <tr>
                <th> Имя </th>
                <th> Фамилия </th>
                <th> Должности </th>
                <th> Email </th>
                <th> Номер телефона </th>
                <th> Оклад </th>
                <th> Зарплата </th>
                <th> Бонус </th>
            </tr>
            </thead>
            <tbody  th:each="worker : ${shiftView.allActiveWorker}">
            <tr>
                <td th:text="${worker.firstName}" ></td>
                <td th:text="${worker.lastName}" ></td>
                <td th:text="${worker.allPosition}" ></td>
                <td th:text="${worker.email}" ></td>
                <td th:text="${worker.phone}" ></td>
                <td th:text="${worker.shiftSalary}" ></td>
                <td th:text="${worker.salary}" ></td>
                <td th:text="${worker.bonus}" ></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
